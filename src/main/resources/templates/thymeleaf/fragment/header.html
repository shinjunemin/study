<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="ko">

<header th:fragment="headerFragment" >
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <!-- brand logo -->
        <a class="navbar-brand" href="#" th:href="@{/}">Study Project</a>

        <!-- collapse -->
        <button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbar" aria-controls="navbar" aria-expanded="false"
			aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbar">
            <ul class="navbar-nav mr-auto">
				<li class="nav-item active" th:classappend="${ #strings.equals(#request.getServletPath(), '/') ? 'active' : ''}">
                    <a class="nav-link" href="#" th:href="@{/}">
						Home 
						<span class="sr-only" th:if="${ #strings.equals(#request.getServletPath(), '/') }">(current)</span>
					</a>
                </li>
					<li class="nav-item" th:classappend="${#strings.contains(#request.getServletPath(), '/board/') ? 'active' : ''}">
                    <a class="nav-link" href="#" th:href="@{board/list}">게시판</a>
					<span class="sr-only" th:if="${ #strings.contains(#request.getServletPath(), '/board/') }">(current)</span>
					
                </li>
			</ul>
            <ul class="navbar-nav">
				<li class="nav-item text-nowrap">
					<!-- thymeleaf-extras-springsecurity5 의존성을 주입했기 떄문에 isAuthenticated()의 여부에 따라 버튼이 나오고 안나오게 할 수 있음 -->
                    <a class="nav-link" href="/signin" th:href="@{/signin} " sec:authorize="!isAuthenticated()" >Sign In</a>
                </li>
				<li class="nav-item text-nowrap">
                    <a class="nav-link" href="/signout" th:href="@{/signout}" sec:authorize="isAuthenticated()" >Sign out</a>
                </li>
			</ul>
        </div>
    </nav>
</header>
</html>
